{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useState } from \"react\";\nimport { useCustomFetch } from \"./useCustomFetch\";\nexport function useTransactionsByEmployee() {\n  _s();\n\n  const {\n    fetchWithCache,\n    loading\n  } = useCustomFetch();\n  const [transactionsByEmployee, setTransactionsByEmployee] = useState(null);\n  const fetchById = useCallback(async employeeId => {\n    const data = await fetchWithCache(\"transactionsByEmployee\", {\n      employeeId\n    });\n    setTransactionsByEmployee(data);\n  }, [fetchWithCache]);\n  const invalidateData = useCallback(() => {\n    setTransactionsByEmployee(null);\n  }, []);\n  const updateTransactionStatus = useCallback((transactionId, isApproved) => {\n    setTransactionsByEmployee(prevTransactions => {\n      if (!prevTransactions) return prevTransactions;\n      return prevTransactions.map(transaction => transaction.id === transactionId ? { ...transaction,\n        isApproved\n      } : transaction);\n    });\n  }, []);\n  return {\n    transactionsByEmployee,\n    // Update this line\n    loading,\n    fetchById,\n    invalidateData,\n    updateTransactionStatus // Add this line\n\n  };\n}\n\n_s(useTransactionsByEmployee, \"CqIgPZKeKVdb+rzWnvzCfBqpOfo=\", false, function () {\n  return [useCustomFetch];\n});","map":{"version":3,"names":["useCallback","useState","useCustomFetch","useTransactionsByEmployee","fetchWithCache","loading","transactionsByEmployee","setTransactionsByEmployee","fetchById","employeeId","data","invalidateData","updateTransactionStatus","transactionId","isApproved","prevTransactions","map","transaction","id"],"sources":["C:/school/w/ramp-fe-challenge/src/hooks/useTransactionsByEmployee.ts"],"sourcesContent":["import { useCallback, useState } from \"react\";\nimport { RequestByEmployeeParams, Transaction } from \"../utils/types\";\nimport { TransactionsByEmployeeResult } from \"./types\";\nimport { useCustomFetch } from \"./useCustomFetch\";\n\nexport function useTransactionsByEmployee(): TransactionsByEmployeeResult {\n    const { fetchWithCache, loading } = useCustomFetch();\n    const [transactionsByEmployee, setTransactionsByEmployee] = useState<Transaction[] | null>(null);\n\n    const fetchById = useCallback(\n        async (employeeId: string) => {\n            const data = await fetchWithCache<Transaction[], RequestByEmployeeParams>(\n                \"transactionsByEmployee\",\n                {\n                    employeeId,\n                }\n            );\n\n            setTransactionsByEmployee(data);\n        },\n        [fetchWithCache]\n    );\n\n    const invalidateData = useCallback(() => {\n        setTransactionsByEmployee(null);\n    }, []);\n\n    const updateTransactionStatus = useCallback(\n        (transactionId: string, isApproved: boolean) => {\n            setTransactionsByEmployee((prevTransactions) => {\n                if (!prevTransactions) return prevTransactions;\n                return prevTransactions.map((transaction) =>\n                    transaction.id === transactionId\n                        ? { ...transaction, isApproved }\n                        : transaction\n                );\n            });\n        },\n        []\n    );\n\n    return {\n        transactionsByEmployee, // Update this line\n        loading,\n        fetchById,\n        invalidateData,\n        updateTransactionStatus, // Add this line\n    };\n}\n"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AAGA,SAASC,cAAT,QAA+B,kBAA/B;AAEA,OAAO,SAASC,yBAAT,GAAmE;EAAA;;EACtE,MAAM;IAAEC,cAAF;IAAkBC;EAAlB,IAA8BH,cAAc,EAAlD;EACA,MAAM,CAACI,sBAAD,EAAyBC,yBAAzB,IAAsDN,QAAQ,CAAuB,IAAvB,CAApE;EAEA,MAAMO,SAAS,GAAGR,WAAW,CACzB,MAAOS,UAAP,IAA8B;IAC1B,MAAMC,IAAI,GAAG,MAAMN,cAAc,CAC7B,wBAD6B,EAE7B;MACIK;IADJ,CAF6B,CAAjC;IAOAF,yBAAyB,CAACG,IAAD,CAAzB;EACH,CAVwB,EAWzB,CAACN,cAAD,CAXyB,CAA7B;EAcA,MAAMO,cAAc,GAAGX,WAAW,CAAC,MAAM;IACrCO,yBAAyB,CAAC,IAAD,CAAzB;EACH,CAFiC,EAE/B,EAF+B,CAAlC;EAIA,MAAMK,uBAAuB,GAAGZ,WAAW,CACvC,CAACa,aAAD,EAAwBC,UAAxB,KAAgD;IAC5CP,yBAAyB,CAAEQ,gBAAD,IAAsB;MAC5C,IAAI,CAACA,gBAAL,EAAuB,OAAOA,gBAAP;MACvB,OAAOA,gBAAgB,CAACC,GAAjB,CAAsBC,WAAD,IACxBA,WAAW,CAACC,EAAZ,KAAmBL,aAAnB,GACM,EAAE,GAAGI,WAAL;QAAkBH;MAAlB,CADN,GAEMG,WAHH,CAAP;IAKH,CAPwB,CAAzB;EAQH,CAVsC,EAWvC,EAXuC,CAA3C;EAcA,OAAO;IACHX,sBADG;IACqB;IACxBD,OAFG;IAGHG,SAHG;IAIHG,cAJG;IAKHC,uBALG,CAKsB;;EALtB,CAAP;AAOH;;GA3CeT,yB;UACwBD,c"},"metadata":{},"sourceType":"module"}